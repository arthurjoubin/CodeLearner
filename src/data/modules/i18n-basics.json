{
  "module": {
    "id": "i18n-basics",
    "title": "Internationalization (i18n)",
    "description": "Rendez vos applications accessibles dans plusieurs langues avec la localisation et la traduction",
    "icon": "Globe",
    "requiredXp": 1400,
    "color": "from-sky-400 to-blue-600",
    "courseId": "web-stack"
  },
  "lessons": [
    {
      "id": "i18n-intro",
      "moduleId": "i18n-basics",
      "title": "Introduction √† l'Internationalization",
      "order": 1,
      "difficulty": "beginner",
      "content": "# Essential to know\n- i18n = Internationalization (18 lettres entre i et n)\n- l10n = Localization (10 lettres entre l et n)\n- i18n = structure pour supporter plusieurs langues\n- l10n = traduction r√©elle dans une langue sp√©cifique\n- Bonnes pratiques : s√©parer textes du code, supporter RTL, formats dates/nombres\n- Accessible √† 95% d'Internet en traduisant top 10 langues\n\n---\n\n# Internationalization : Ouvrir au Monde\n\n## Pourquoi l'i18n est crucial ?\n\n**Les chiffres parlants :**\n- üåç 5 milliards d'utilisateurs d'Internet\n- üåê Seulement 25% parlent anglais nativement\n- üí∞ 75% des consommateurs pr√©f√®rent acheter dans leur langue\n- üì± Top 10 langues = acc√®s √† 95% des internautes\n\n**Langues prioritaires :**\n1. Anglais (1.5B)\n2. Chinois (1.1B)\n3. Hindi (600M)\n4. Espagnol (550M)\n5. Arabe (350M)\n6. Fran√ßais (300M)\n7. Portugais (250M)\n8. Russe (250M)\n9. Japonais (125M)\n10. Allemand (130M)\n\n## i18n vs l10n\n\n**Internationalization (i18n)** :\n- Pr√©parer le code pour supporter plusieurs langues\n- Architecture et structure\n- Une seule fois par projet\n\n**Localization (l10n)** :\n- Traduire r√©ellement le contenu\n- Adaptation culturelle (dates, devises, couleurs)\n- Fait pour chaque nouvelle langue\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ           Internationalization          ‚îÇ\n‚îÇ   (Pr√©parer le code, structure, API)    ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                   ‚îÇ\n       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n       ‚ñº           ‚ñº           ‚ñº\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Anglais ‚îÇ ‚îÇ Fran√ßais ‚îÇ ‚îÇ Espagnol ‚îÇ\n‚îÇ   (l10n) ‚îÇ ‚îÇ   (l10n) ‚îÇ ‚îÇ   (l10n) ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Aspects de l'i18n\n\n### 1. Texte\n- Traductions de cha√Ænes\n- Pluriels (1 item, 2 items, 5 items...)\n- Interpolation de variables\n\n### 2. Formatage\n- Dates et heures\n- Nombres et devises\n- Ordre de tri alphab√©tique\n\n### 3. Layout\n- RTL (Right-to-Left) : Arabe, H√©breu\n- Text expansion (Allemand +40%, Japonais -40%)\n- Images avec texte\n\n### 4. Culture\n- Couleurs (blanc = deuil en Asie)\n- Formats d'adresse\n- Num√©ros de t√©l√©phone\n- Syst√®mes de mesure\n\n## Architecture i18n Basique\n\n### Structure de fichiers\n\n```\nsrc/\n‚îú‚îÄ‚îÄ i18n/\n‚îÇ   ‚îú‚îÄ‚îÄ index.js          # Configuration i18n\n‚îÇ   ‚îú‚îÄ‚îÄ resources/        # Traductions\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ en/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common.json\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pages.json\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fr/\n‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common.json\n‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pages.json\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ es/\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ common.json\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ pages.json\n‚îÇ   ‚îî‚îÄ‚îÄ utils/            # Helpers\n‚îÇ       ‚îî‚îÄ‚îÄ formatters.js\n```\n\n### Format de traductions\n\n```json\n{\n  \"welcome\": \"Welcome to our app\",\n  \"hello\": \"Hello, {{name}}!\",\n  \"items\": {\n    \"zero\": \"No items\",\n    \"one\": \"One item\",\n    \"other\": \"{{count}} items\"\n  },\n  \"buttons\": {\n    \"save\": \"Save\",\n    \"cancel\": \"Cancel\",\n    \"delete\": \"Delete\"\n  }\n}\n```\n\n## Processus de Traduction\n\n**1. D√©veloppement (D√©veloppeur)**\n- Mettre des cl√©s dans le code : `t('welcome')`\n- Exporter les cl√©s en JSON\n\n**2. Traduction (Traducteur)**\n- Recevoir fichiers JSON\n- Traduire dans leur langue\n- Retourner fichiers traduits\n\n**3. Int√©gration (D√©veloppeur)**\n- Importer traductions\n- Tester\n- D√©ployer\n\n**Outils de gestion :**\n- Crowdin\n- Lokalise\n- Phrase\n- POEditor\n- Weblate (open source)",
      "codeExample": "// Structure de base i18n sans framework\n\n// translations.js\nconst translations = {\n  en: {\n    welcome: 'Welcome',\n    hello: 'Hello, {{name}}!',\n    items_zero: 'No items',\n    items_one: 'One item',\n    items_other: '{{count}} items',\n    buttons: {\n      save: 'Save',\n      cancel: 'Cancel'\n    }\n  },\n  fr: {\n    welcome: 'Bienvenue',\n    hello: 'Bonjour, {{name}} !',\n    items_zero: 'Aucun article',\n    items_one: 'Un article',\n    items_other: '{{count}} articles',\n    buttons: {\n      save: 'Enregistrer',\n      cancel: 'Annuler'\n    }\n  },\n  es: {\n    welcome: 'Bienvenido',\n    hello: '¬°Hola, {{name}}!',\n    items_zero: 'Ning√∫n art√≠culo',\n    items_one: 'Un art√≠culo',\n    items_other: '{{count}} art√≠culos',\n    buttons: {\n      save: 'Guardar',\n      cancel: 'Cancelar'\n    }\n  }\n};\n\n// i18n.js - Syst√®me minimal\nclass I18n {\n  constructor() {\n    this.locale = 'en';\n    this.translations = translations;\n  }\n\n  setLocale(locale) {\n    this.locale = locale;\n    document.documentElement.lang = locale;\n  }\n\n  t(key, options = {}) {\n    const keys = key.split('.');\n    let value = this.translations[this.locale];\n    \n    for (const k of keys) {\n      value = value?.[k];\n      if (!value) break;\n    }\n    \n    if (!value) {\n      console.warn(`Missing translation: ${key}`);\n      return key;\n    }\n    \n    // Interpolation {{variable}}\n    return value.replace(/\\{\\{(\\w+)\\}\\}/g, (match, varName) => {\n      return options[varName] !== undefined ? options[varName] : match;\n    });\n  }\n\n  // Pluralization simple\n  tp(key, count, options = {}) {\n    const pluralKey = `${key}_${this.getPluralForm(count)}`;\n    return this.t(pluralKey, { ...options, count });\n  }\n\n  getPluralForm(count) {\n    // R√®gles simplifi√©es\n    if (count === 0) return 'zero';\n    if (count === 1) return 'one';\n    return 'other';\n  }\n}\n\nconst i18n = new I18n();\nexport default i18n;\n\n// Usage\ni18n.setLocale('fr');\nconsole.log(i18n.t('welcome')); // 'Bienvenue'\nconsole.log(i18n.t('hello', { name: 'Marie' })); // 'Bonjour, Marie !'\nconsole.log(i18n.tp('items', 0)); // 'Aucun article'\nconsole.log(i18n.tp('items', 5)); // '5 articles'\nconsole.log(i18n.t('buttons.save')); // 'Enregistrer'"
    },
    {
      "id": "react-i18next",
      "moduleId": "i18n-basics",
      "title": "React i18next",
      "order": 2,
      "difficulty": "intermediate",
      "content": "# Essential to know\n- i18next = biblioth√®que i18n standard pour JavaScript\n- react-i18next = int√©gration React pour i18next\n- useTranslation hook pour les composants fonctionnels\n- Trans component pour JSX complexe\n- Supporte interpolation, pluriels, contexte\n- Namespace pour organiser les traductions\n- Lazy loading des traductions possible\n\n---\n\n# React i18next : L'Industry Standard\n\n## Installation\n\n```bash\nnpm install react-i18next i18next\n\n# Plugins optionnels\nnpm install i18next-http-backend   # Chargement via HTTP\nnpm install i18next-browser-languagedetector  # D√©tection auto langue\n```\n\n## Configuration\n\n### i18n.js\n\n```javascript\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\n// Import direct des traductions (pour bundler)\nimport enCommon from './locales/en/common.json';\nimport frCommon from './locales/fr/common.json';\n\ni18n\n  // Plugin de d√©tection de langue\n  .use(LanguageDetector)\n  // Plugin de chargement backend\n  .use(Backend)\n  // Passer i18n instance √† react-i18next\n  .use(initReactI18next)\n  // Initialisation\n  .init({\n    // Langue fallback\n    fallbackLng: 'en',\n    \n    // Debug en d√©veloppement\n    debug: process.env.NODE_ENV === 'development',\n    \n    // Namespace par d√©faut\n    defaultNS: 'common',\n    \n    // Ressources (si import direct)\n    resources: {\n      en: { common: enCommon },\n      fr: { common: frCommon }\n    },\n    \n    // ou chargement via backend\n    backend: {\n      loadPath: '/locales/{{lng}}/{{ns}}.json'\n    },\n    \n    // D√©tection langue\n    detection: {\n      order: ['localStorage', 'navigator', 'htmlTag'],\n      caches: ['localStorage']\n    },\n    \n    // Interpolation\n    interpolation: {\n      escapeValue: false, // React d√©j√† prot√®ge XSS\n    },\n  });\n\nexport default i18n;\n```\n\n### Importer dans index.js\n\n```javascript\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './i18n'; // Importer la config i18n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n```\n\n## Utilisation de base\n\n### Hook useTranslation\n\n```jsx\nimport { useTranslation } from 'react-i18next';\n\nfunction Welcome() {\n  const { t } = useTranslation();\n  \n  return <h1>{t('welcome.title')}</h1>;\n}\n```\n\n### Avec namespace\n\n```jsx\nfunction UserProfile() {\n  // Utiliser namespace 'user'\n  const { t } = useTranslation('user');\n  \n  return (\n    <div>\n      <h2>{t('profile.title')}</h2>\n      <p>{t('profile.description')}</p>\n    </div>\n  );\n}\n\n// Ou plusieurs namespaces\nfunction Mixed() {\n  const { t } = useTranslation(['common', 'user']);\n  \n  return (\n    <div>\n      <p>{t('common:welcome')}</p>\n      <p>{t('user:profile.title')}</p>\n    </div>\n  );\n}\n```\n\n### Interpolation\n
```json\n{\n  \"welcome\": \"Hello, {{name}}!\",\n  \"balance\": \"You have {{amount}} {{currency}}\",\n  \"date\": \"Today is {{date, DD/MM/YYYY}}\"\n}\n```\n
```jsx
function Greeting({ userName, balance }) {
  const { t } = useTranslation();
  
  return (
    <div>
      <p>{t('welcome', { name: userName })}</p>
      <p>{t('balance', { amount: balance, currency: '‚Ç¨' })}</p>
    </div>
  );
}
```

### Pluriels

```json
{
  "item_zero": "No items",
  "item_one": "One item",
  "item_other": "{{count}} items",
  "item_few": "{{count}} items"
}
```

```jsx
function ItemCount({ count }) {
  const { t } = useTranslation();
  
  return <p>{t('item', { count })}</p>;
  // count=0 ‚Üí "No items"
  // count=1 ‚Üí "One item"
  // count=5 ‚Üí "5 items"
}
```

### Contexte

```json
{
  "greeting": "Hello",
  "greeting_male": "Hello sir",
  "greeting_female": "Hello madam"
}
```

```jsx
function Greeting({ gender }) {
  const { t } = useTranslation();
  
  return <p>{t('greeting', { context: gender })}</p>;
}
```

## Component Trans pour JSX complexe

```jsx
import { Trans } from 'react-i18next';

// JSON
{
  "terms": "I agree to the <1>terms of service</1> and <3>privacy policy</3>"
}

// Composant
function TermsAgreement() {
  return (
    <p>
      <Trans i18nKey="terms">
        I agree to the
        <a href="/terms">terms of service</a>
        and
        <a href="/privacy">privacy policy</a>
      </Trans>
    </p>
  );
}
```

## Changement de Langue

```jsx
import { useTranslation } from 'react-i18next';

function LanguageSwitcher() {
  const { i18n } = useTranslation();
  
  const changeLanguage = (lng) => {
    i18n.changeLanguage(lng);
  };
  
  return (
    <div>
      <button onClick={() => changeLanguage('en')}>üá¨üáß English</button>
      <button onClick={() => changeLanguage('fr')}>üá´üá∑ Fran√ßais</button>
      <button onClick={() => changeLanguage('es')}>üá™üá∏ Espa√±ol</button>
    </div>
  );
}
```

## Lazy Loading des Traductions

```jsx
import i18n from 'i18next';

// Charger une langue dynamiquement
async function loadLanguage(language) {
  const translations = await import(`./locales/${language}/common.json`);
  i18n.addResourceBundle(language, 'common', translations.default);
  i18n.changeLanguage(language);
}
```",
      "codeExample": "// Exemple complet React i18next\n\n// ========== i18n.js ==========\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport enCommon from './locales/en/common.json';\nimport enUser from './locales/en/user.json';\nimport frCommon from './locales/fr/common.json';\nimport frUser from './locales/fr/user.json';\nimport esCommon from './locales/es/common.json';\nimport esUser from './locales/es/user.json';\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        common: enCommon,\n        user: enUser\n      },\n      fr: {\n        common: frCommon,\n        user: frUser\n      },\n      es: {\n        common: esCommon,\n        user: esUser\n      }\n    },\n    fallbackLng: 'en',\n    defaultNS: 'common',\n    detection: {\n      order: ['localStorage', 'navigator'],\n      caches: ['localStorage']\n    },\n    interpolation: {\n      escapeValue: false\n    }\n  });\n\nexport default i18n;\n\n// ========== locales/fr/common.json ==========\n{\n  \"app\": {\n    \"title\": \"Mon Application\",\n    \"welcome\": \"Bienvenue, {{name}} !\",\n    \"items\": {\n      \"zero\": \"Aucun article\",\n      \"one\": \"Un article\",\n      \"other\": \"{{count}} articles\"\n    }\n  },\n  \"buttons\": {\n    \"save\": \"Enregistrer\",\n    \"cancel\": \"Annuler\",\n    \"delete\": \"Supprimer\",\n    \"loading\": \"Chargement...\"\n  },\n  \"errors\": {\n    \"required\": \"Ce champ est requis\",\n    \"email\": \"Veuillez entrer un email valide\",\n    \"generic\": \"Une erreur est survenue\"\n  },\n  \"nav\": {\n    \"home\": \"Accueil\",\n    \"profile\": \"Profil\",\n    \"settings\": \"Param√®tres\"\n  }\n}\n\n// ========== App.jsx ==========\nimport { useTranslation, Trans } from 'react-i18next';\nimport './i18n';\n\nfunction App() {\n  return (\n    \u003cdiv\u003e\n      \u003cHeader /\u003e\n      \u003cMain /\u003e\n    \u003c/div\u003e\n  );\n}\n\nfunction Header() {\n  const { t, i18n } = useTranslation();\n  \n  return (\n    \u003cheader\u003e\n      \u003ch1\u003e{t('app.title')}\u003c/h1\u003e\n      \u003cnav\u003e\n        \u003ca href=\"/\"\u003e{t('nav.home')}\u003c/a\u003e\n        \u003ca href=\"/profile\"\u003e{t('nav.profile')}\u003c/a\u003e\n        \u003ca href=\"/settings\"\u003e{t('nav.settings')}\u003c/a\u003e\n      \u003c/nav\u003e\n      \u003cLanguageSwitcher /\u003e\n    \u003c/header\u003e\n  );\n}\n\nfunction Main() {\n  const { t } = useTranslation();\n  const itemCount = 5;\n  \n  return (\n    \u003cmain\u003e\n      \u003ch2\u003e{t('app.welcome', { name: 'Marie' })}\u003c/h2\u003e\n      \u003cp\u003e{t('app.items', { count: itemCount })}\u003c/p\u003e\n      \n      \u003cTermsAgreement /\u003e\n      \n      \u003cbutton\u003e{t('buttons.save')}\u003c/button\u003e\n    \u003c/main\u003e\n  );\n}\n\nfunction LanguageSwitcher() {\n  const { i18n } = useTranslation();\n  \n  const languages = [\n    { code: 'en', label: 'üá¨üáß English' },\n    { code: 'fr', label: 'üá´üá∑ Fran√ßais' },\n    { code: 'es', label: 'üá™üá∏ Espa√±ol' }\n  ];\n  \n  return (\n    \u003cselect\n      value={i18n.language}\n      onChange={(e) =\u003e i18n.changeLanguage(e.target.value)}\n    \u003e\n      {languages.map((lang) =\u003e (\n        \u003coption key={lang.code} value={lang.code}\u003e\n          {lang.label}\n        \u003c/option\u003e\n      ))}\n    \u003c/select\u003e\n  );\n}\n\nfunction TermsAgreement() {\n  return (\n    \u003cp\u003e\n      \u003cTrans i18nKey=\"terms\"\u003e\n        J'accepte les \u003ca href=\"/terms\"\u003econditions d'utilisation\u003c/a\u003e\n        et la \u003ca href=\"/privacy\"\u003epolitique de confidentialit√©\u003c/a\u003e\n      \u003c/Trans\u003e\n    \u003c/p\u003e\n  );\n}\n\nexport default App;"
    },
    {
      "id": "i18n-advanced",
      "moduleId": "i18n-basics",
      "title": "i18n Avanc√©",
      "order": 3,
      "difficulty": "advanced",
      "content": "# Essential to know\n- RTL (Right-to-Left) pour Arabe/H√©breu : changer direction du layout\n- ICU MessageFormat pour pluriels complexes\n- Formatage dates/nombres avec Intl API\n- Pseudo-localization pour tester l'UI\n- Extracteurs de cl√©s (i18next-parser)\n- Gestion contextuelle (genre, formalit√©)\n- Lazy loading et code splitting\n\n---\n\n# i18n Avanc√© : Techniques Pro\n\n## 1. Support RTL (Right-to-Left)\n\nLangues RTL : Arabe, H√©breu, Persan, Ourdou...

### D√©tection et application

```jsx
// D√©tecter si langue est RTL
const RTL_LANGUAGES = ['ar', 'he', 'fa', 'ur'];

function isRTL(locale) {
  return RTL_LANGUAGES.includes(locale);
}

// Application dans React
function App() {
  const { i18n } = useTranslation();
  const rtl = isRTL(i18n.language);
  
  useEffect(() => {
    document.documentElement.dir = rtl ? 'rtl' : 'ltr';
  }, [rtl]);
  
  return (
    <div className={rtl ? 'rtl' : 'ltr'}>
      <Content />
    </div>
  );
}
```

### CSS pour RTL

```css
/* Approche avec logical properties (recommand√©) */
.element {
  /* Au lieu de margin-left */
  margin-inline-start: 1rem;
  
  /* Au lieu de text-align: left */
  text-align: start;
  
  /* Au lieu de border-right */
  border-inline-end: 1px solid;
}

/* Ou avec classes RTL */
[dir='rtl'] .sidebar {
  left: auto;
  right: 0;
}

[dir='rtl'] .icon-arrow {
  transform: scaleX(-1);
}
```

## 2. Formatage avec Intl API

```javascript
// Dates
const date = new Date();

new Intl.DateTimeFormat('en-US').format(date);     // "12/20/2023"
new Intl.DateTimeFormat('fr-FR').format(date);     // "20/12/2023"
new Intl.DateTimeFormat('ja-JP').format(date);     // "2023/12/20"

new Intl.DateTimeFormat('fr-FR', {
  weekday: 'long',
  year: 'numeric',
  month: 'long',
  day: 'numeric'
}).format(date); // "mercredi 20 d√©cembre 2023"

// Nombres
new Intl.NumberFormat('en-US').format(1234567.89); // "1,234,567.89"
new Intl.NumberFormat('fr-FR').format(1234567.89); // "1 234 567,89"
new Intl.NumberFormat('de-DE').format(1234567.89); // "1.234.567,89"

// Devises
new Intl.NumberFormat('fr-FR', {
  style: 'currency',
  currency: 'EUR'
}).format(99.99); // "99,99 ‚Ç¨"

new Intl.NumberFormat('en-US', {
  style: 'currency',
  currency: 'USD'
}).format(99.99); // "$99.99"

// Unit√©s
new Intl.NumberFormat('en', {
  style: 'unit',
  unit: 'kilometer'
}).format(5); // "5 km"

// Temps relatif
new Intl.RelativeTimeFormat('fr').format(-1, 'day');    // "il y a 1 jour"
new Intl.RelativeTimeFormat('fr').format(3, 'month');   // "dans 3 mois"
```

### Composant FormatDate

```jsx
import { useTranslation } from 'react-i18next';

function FormatDate({ date, options = {} }) {
  const { i18n } = useTranslation();
  
  const formatter = new Intl.DateTimeFormat(i18n.language, {
    year: 'numeric',
    month: 'short',
    day: 'numeric',
    ...options
  });
  
  return <span>{formatter.format(new Date(date))}</span>;
}

// Usage
<FormatDate date={post.createdAt} />
<FormatDate date={event.date} options={{ weekday: 'long' }} />
```

## 3. Pluriels complexes (ICU Format)

```json
{
  "message": "{count, plural,\n    =0 {No messages}\n    one {One message}\n    few {{count} messages}\n    many {{count} messages}\n    other {{count} messages}\n  }"
}
```

```jsx
import { useTranslation } from 'react-i18next';

function MessageCount({ count }) {
  const { t } = useTranslation();
  
  return (
    <p>{t('message', { count, interpolation: { escapeValue: false } })}</p>
  );
}
```

## 4. Pseudo-localization (Test UI)

Pour v√©rifier que ton UI supporte bien les langues longues :\n
```json
// pseudo.json\n{\n  "welcome": "[≈¥√™ƒº√ß√∏…±√™ ≈£√∏ …±√Ω √¢ppƒº√Æ√ß√¢≈£√Æ√∏…±]",\n  "description": "[≈¢ƒ•√Æ≈° √Æ≈° √¢ …≠√∏…≥ƒù√™≈ô ≈£√™—Ö≈£ ≈£ƒ•√¢≈£ ≈°ƒ•√∏√ªƒº√∞ ∆í√Æ≈£ √Æ…≥ ≈£ƒ•√™ √ú√é]"
}
```

## 5. Extracteur de cl√©s

```bash
npm install --save-dev i18next-parser
```

```javascript
// i18next-parser.config.js
module.exports = {
  locales: ['en', 'fr', 'es'],
  output: 'src/locales/$LOCALE/$NAMESPACE.json',
  input: ['src/**/*.{js,jsx}'],
  
  // Options
  sort: true,
  removeUnusedKeys: true,
  keepRemoved: false
};
```

```json
// package.json
{
  "scripts": {
    "i18n:extract": "i18next 'src/**/*.{js,jsx}' -c i18next-parser.config.js"
  }
}
```

## 6. Contexte de Traduction

```json
{
  "greeting": "Hello",
  "greeting_formal": "Good day",
  "greeting_informal": "Hey",
  "greeting_male": "Hello sir",
  "greeting_female": "Hello madam"
}
```

```jsx
function Greeting({ formality, gender }) {
  const { t } = useTranslation();
  
  // Contexte multiple
  const context = `${formality}_${gender}`;
  // t('greeting_formal_male')
  
  return <p>{t('greeting', { context })}</p>;
}
```

## 7. Lazy Loading et Code Splitting

```jsx
// Chargement √† la vol√©e
function LanguageLoader({ children }) {
  const { i18n } = useTranslation();
  const [loaded, setLoaded] = useState(false);
  
  useEffect(() => {
    const loadResources = async () => {
      const locale = i18n.language;
      
      // Charger seulement si pas d√©j√† charg√©
      if (!i18n.hasResourceBundle(locale, 'common')) {
        const resources = await import(`./locales/${locale}/common.json`);
        i18n.addResourceBundle(locale, 'common', resources);
      }
      
      setLoaded(true);
    };
    
    loadResources();
  }, [i18n.language]);
  
  if (!loaded) return <Loading />;
  return children;
}
```",
      "codeExample": "// Exemple i18n complet avec RTL et formatage\n\n// ========== utils/i18n-helpers.js ==========\nexport const RTL_LANGUAGES = ['ar', 'he', 'fa', 'ur'];
\nexport function isRTL(locale) {\n  return RTL_LANGUAGES.includes(locale);\n}\n\nexport function useRTL() {\n  const { i18n } = useTranslation();\n  return isRTL(i18n.language);\n}\n\nexport function formatDate(date, locale, options = {}) {\n  return new Intl.DateTimeFormat(locale, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    ...options\n  }).format(new Date(date));\n}\n\nexport function formatNumber(number, locale, options = {}) {\n  return new Intl.NumberFormat(locale, options).format(number);\n}\n\nexport function formatCurrency(amount, locale, currency) {\n  return new Intl.NumberFormat(locale, {\n    style: 'currency',\n    currency\n  }).format(amount);\n}\n\nexport function formatRelativeTime(value, unit, locale) {\n  return new Intl.RelativeTimeFormat(locale).format(value, unit);\n}\n\n// ========== components/FormattedDate.jsx ==========\nimport { useTranslation } from 'react-i18next';\n\nexport function FormattedDate({ date, options }) {\n  const { i18n } = useTranslation();\n  const formatted = formatDate(date, i18n.language, options);\n  return \u003ctime dateTime={date}\u003e{formatted}\u003c/time\u003e;\n}\n\n// ========== components/Currency.jsx ==========\nexport function Currency({ amount, currency = 'EUR' }) {\n  const { i18n } = useTranslation();\n  const formatted = formatCurrency(amount, i18n.language, currency);\n  return \u003cspan className=\"currency\"\u003e{formatted}\u003c/span\u003e;\n}\n\n// ========== components/RTLProvider.jsx ==========\nimport { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { isRTL } from '../utils/i18n-helpers';\n\nexport function RTLProvider({ children }) {\n  const { i18n } = useTranslation();\n  const rtl = isRTL(i18n.language);\n  \n  useEffect(() =\u003e {\n    document.documentElement.dir = rtl ? 'rtl' : 'ltr';\n    document.documentElement.lang = i18n.language;\n  }, [i18n.language, rtl]);\n  \n  return (\n    \u003cdiv className={rtl ? 'rtl' : 'ltr'}\u003e\n      {children}\n    \u003c/div\u003e\n  );\n}\n\n// ========== App.jsx avec tout ==========\nimport { useTranslation } from 'react-i18next';\nimport { RTLProvider } from './components/RTLProvider';\nimport { FormattedDate } from './components/FormattedDate';\nimport { Currency } from './components/Currency';\n\nfunction App() {\n  return (\n    \u003cRTLProvider\u003e\n      \u003cHeader /\u003e\n      \u003cProductList /\u003e\n    \u003c/RTLProvider\u003e\n  );\n}\n\nfunction ProductList() {\n  const { t, i18n } = useTranslation();\n  \n  const products = [\n    { id: 1, name: 'Laptop', price: 999.99, date: new Date() },\n    { id: 2, name: 'Mouse', price: 29.99, date: new Date() }\n  ];\n  \n  return (\n    \u003cdiv className=\"product-list\"\u003e\n      \u003ch1\u003e{t('products.title')}\u003c/h1\u003e\n      \u003cp\u003e\n        {t('products.showing', { \n          count: products.length,\n          total: 100 \n        })}\n      \u003c/p\u003e\n      \n      {products.map(product =\u003e (\n        \u003cdiv key={product.id} className=\"product-card\"\u003e\n          \u003ch3\u003e{product.name}\u003c/h3\u003e\n          \u003cp\u003e\n            \u003cstrong\u003e{t('products.price')}:\u003c/strong\u003e{' '}\n            \u003cCurrency amount={product.price} currency=\"EUR\" /\u003e\n          \u003c/p\u003e\n          \u003cp\u003e\n            \u003cstrong\u003e{t('products.date')}:\u003c/strong\u003e{' '}\n            \u003cFormattedDate date={product.date} /\u003e\n          \u003c/p\u003e\n          \u003cbutton\u003e{t('buttons.addToCart')}\u003c/button\u003e\n        \u003c/div\u003e\n      ))}\n    \u003c/div\u003e\n  );\n}\n\n// CSS adapt√©\n/* styles.css */\n.product-card {\n  padding: 1rem;\n  border: 1px solid #ddd;\n  margin: 0.5rem 0;\n  /* Utiliser logical properties pour RTL */\n  border-inline-start: 4px solid #6366f1;\n  padding-inline-start: 1rem;\n}\n\n/* Inversion des fl√®ches en RTL */\n.rtl .arrow-right {\n  transform: scaleX(-1);\n}\n\n.rtl .product-list {\n  text-align: right;\n}\n\n.rtl button {\n  margin-inline-start: 0;\n  margin-inline-end: 0.5rem;\n}"}
    }
  ],
  "exercises": [
    {
      "id": "i18n-ex-1",
      "lessonId": "i18n-intro",
      "moduleId": "i18n-basics",
      "title": "Quiz i18n Basics",
      "difficulty": "easy",
      "type": "quiz",
      "questions": [
        {
          "question": "Que signifie 'i18n' ?",
          "options": [
            "18 langues internationales",
            "Internationalization (18 lettres entre i et n)",
            "Internet 2018",
            "iPhone 18 nouvelles"
          ],
          "correctAnswer": 1,
          "explanation": "i18n est l'abr√©viation de 'Internationalization' - il y a 18 lettres entre le 'i' et le 'n'."
        },
        {
          "question": "Quelle est la diff√©rence entre i18n et l10n ?",
          "options": [
            "i18n c'est pour le web, l10n pour mobile",
            "i18n = pr√©parer le code, l10n = traduire le contenu",
            "Il n'y a pas de diff√©rence",
            "l10n est obsol√®te"
          ],
          "correctAnswer": 1,
          "explanation": "i18n (Internationalization) c'est pr√©parer l'architecture pour supporter plusieurs langues. l10n (Localization) c'est traduire r√©ellement le contenu dans une langue sp√©cifique."
        },
        {
          "question": "Quelle langue donne acc√®s au plus grand nombre d'internautes ?",
          "options": [
            "Fran√ßais",
            "Anglais",
            "Chinois",
            "Espagnol"
          ],
          "correctAnswer": 1,
          "explanation": "L'anglais reste la langue #1 avec environ 1.5 milliard d'utilisateurs, suivi par le chinois avec 1.1 milliard."
        }
      ]
    },
    {
      "id": "i18n-ex-2",
      "lessonId": "react-i18next",
      "moduleId": "i18n-basics",
      "title": "Quiz React i18next",
      "difficulty": "medium",
      "type": "quiz",
      "questions": [
        {
          "question": "Quel hook utilise-t-on pour la traduction dans React i18next ?",
          "options": [
            "useTranslate",
            "useTranslation",
            "useI18n",
            "useLocale"
          ],
          "correctAnswer": 1,
          "explanation": "useTranslation est le hook principal de react-i18next pour acc√©der aux fonctionnalit√©s de traduction."
        },
        {
          "question": "Comment passer une variable dans une traduction ?",
          "options": [
            "t('key', variable)",
            "t('key', { variableName: value })",
            "t('key').replace('{var}', value)",
            "t('key', value)"
          ],
          "correctAnswer": 1,
          "explanation": "On passe un objet avec les variables : t('welcome', { name: 'Marie' }). Dans le JSON : 'welcome': 'Hello, {{name}}!'"
        },
        {
          "question": "√Ä quoi sert le component Trans ?",
          "options": [
            "√Ä traduire automatiquement",
            "√Ä inclure du JSX dans les traductions",
            "√Ä changer de langue",
            "√Ä formater les dates"
          ],
          "correctAnswer": 1,
          "explanation": "Le component Trans permet d'inclure du JSX (liens, spans, etc.) dans les traductions tout en gardant le texte traduisible."
        }
      ]
    },
    {
      "id": "i18n-ex-3",
      "lessonId": "i18n-advanced",
      "moduleId": "i18n-basics",
      "title": "Quiz i18n Avanc√©",
      "difficulty": "medium",
      "type": "quiz",
      "questions": [
        {
          "question": "Qu'est-ce que RTL dans le contexte i18n ?",
          "options": [
            "Real-Time Language",
            "Right-To-Left (langues s'√©crivant de droite √† gauche)",
            "Ready To Launch",
            "Return To Language"
          ],
          "correctAnswer": 1,
          "explanation": "RTL = Right-To-Left. Certaines langues comme l'arabe et l'h√©breu se lisent de droite √† gauche, ce qui n√©cessite d'adapter le layout."
        },
        {
          "question": "Quelle API native JavaScript permet de formater les dates selon la locale ?",
          "options": [
            "Date.format()",
            "Intl.DateTimeFormat",
            "Date.toLocale()",
            "i18n.formatDate()"
          ],
          "correctAnswer": 1,
          "explanation": "Intl.DateTimeFormat est l'API native de JavaScript pour formater les dates selon la locale de l'utilisateur."
        },
        {
          "question": "Pourquoi utiliser des 'logical properties' en CSS pour i18n ?",
          "options": [
            "Pour que √ßa aille plus vite",
            "Pour que le layout s'adapte automatiquement au RTL",
            "Pour r√©duire la taille du CSS",
            "Pour les anciens navigateurs"
          ],
          "correctAnswer": 1,
          "explanation": "Les logical properties (margin-inline-start au lieu de margin-left) s'adaptent automatiquement √† la direction du texte (LTR ou RTL)."
        }
      ]
    }
  ]
}
