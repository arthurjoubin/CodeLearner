{
  "module": {
    "id": "i18n-basics",
    "title": "Internationalization (i18n)",
    "description": "Make your applications accessible in multiple languages with localization and translation",
    "icon": "Globe",
    "requiredXp": 1400,
    "color": "from-sky-400 to-blue-600",
    "courseId": "web-stack"
  },
  "lessons": [
    {
      "id": "i18n-intro",
      "moduleId": "i18n-basics",
      "title": "Introduction to Internationalization",
      "order": 1,
      "difficulty": "beginner",
      "content": "# Essential to know\n- i18n = Internationalization (18 letters between i and n)\n- l10n = Localization (10 letters between l and n)\n- i18n = structure to support multiple languages\n- l10n = actual translation into a specific language\n- Best practices: separate text from code, support RTL, date/number formats\n- Accessible to 95% of the Internet by translating top 10 languages\n\n---\n\n# Internationalization: Opening to the World\n\n## Why is i18n crucial?\n\n**The numbers speak:**\n- üåç 5 billion Internet users\n- üåê Only 25% speak English natively\n- üí∞ 75% of consumers prefer to buy in their language\n- üì± Top 10 languages = access to 95% of Internet users\n\n**Priority languages:**\n1. English (1.5B)\n2. Chinese (1.1B)\n3. Hindi (600M)\n4. Spanish (550M)\n5. Arabic (350M)\n6. French (300M)\n7. Portuguese (250M)\n8. Russian (250M)\n9. Japanese (125M)\n10. German (130M)\n\n## i18n vs l10n\n\n**Internationalization (i18n)**:\n- Prepare code to support multiple languages\n- Architecture and structure\n- Done once per project\n\n**Localization (l10n)**:\n- Actually translate content\n- Cultural adaptation (dates, currencies, colors)\n- Done for each new language\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ           Internationalization          ‚îÇ\n‚îÇ   (Prepare code, structure, API)        ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                   ‚îÇ\n       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n       ‚ñº           ‚ñº           ‚ñº\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  English ‚îÇ ‚îÇ French   ‚îÇ ‚îÇ Spanish  ‚îÇ\n‚îÇ   (l10n) ‚îÇ ‚îÇ   (l10n) ‚îÇ ‚îÇ   (l10n) ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Aspects of i18n\n\n### 1. Text\n- String translations\n- Plurals (1 item, 2 items, 5 items...)\n- Variable interpolation\n\n### 2. Formatting\n- Dates and times\n- Numbers and currencies\n- Alphabetical sort order\n\n### 3. Layout\n- RTL (Right-to-Left): Arabic, Hebrew\n- Text expansion (German is 30% longer than English)\n- Iconography and colors\n\n## Getting Started\n\n### Step 1: Extract Text\n\n```javascript\n// ‚ùå Before: Hardcoded text\nfunction Header() {\n  return <h1>Welcome</h1>;\n}\n\n// ‚úÖ After: Using translation keys\nfunction Header() {\n  const { t } = useTranslation();\n  return <h1>{t('welcome')}</h1>;\n}\n```\n\n### Step 2: Create Translation Files\n\n```json\n// locales/en.json\n{\n  \"welcome\": \"Welcome\",\n  \"hello\": \"Hello, {{name}}!\"\n}\n\n// locales/fr.json\n{\n  \"welcome\": \"Bienvenue\",\n  \"hello\": \"Bonjour, {{name}} !\"\n}\n```\n\n### Step 3: Configure i18n\n\n```javascript\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: { translation: enTranslations },\n      fr: { translation: frTranslations }\n    },\n    lng: 'en',\n    fallbackLng: 'en'\n  });\n```",
      "codeExample": "// Basic i18n structure without framework\n\n// translations.js\nconst translations = {\n  en: {\n    welcome: 'Welcome',\n    hello: 'Hello, {{name}}!',\n    items_zero: 'No items',\n    items_one: 'One item',\n    items_other: '{{count}} items',\n    buttons: {\n      save: 'Save',\n      cancel: 'Cancel'\n    }\n  },\n  fr: {\n    welcome: 'Bienvenue',\n    hello: 'Bonjour, {{name}} !',\n    items_zero: 'Aucun article',\n    items_one: 'Un article',\n    items_other: '{{count}} articles',\n    buttons: {\n      save: 'Enregistrer',\n      cancel: 'Annuler'\n    }\n  },\n  es: {\n    welcome: 'Bienvenido',\n    hello: '¬°Hola, {{name}}!',\n    items_zero: 'Ning√∫n art√≠culo',\n    items_one: 'Un art√≠culo',\n    items_other: '{{count}} art√≠culos',\n    buttons: {\n      save: 'Guardar',\n      cancel: 'Cancelar'\n    }\n  }\n};\n\n// i18n.js - Minimal system\nclass I18n {\n  constructor() {\n    this.locale = 'en';\n    this.translations = translations;\n  }\n\n  setLocale(locale) {\n    this.locale = locale;\n    document.documentElement.lang = locale;\n  }\n\n  t(key, options = {}) {\n    const keys = key.split('.');\n    let value = this.translations[this.locale];\n    \n    for (const k of keys) {\n      value = value?.[k];\n      if (!value) break;\n    }\n    \n    if (!value) {\n      console.warn(`Missing translation: ${key}`);\n      return key;\n    }\n    \n    // Interpolation {{variable}}\n    return value.replace(/\{\{(\w+)\}\}/g, (match, varName) => {\n      return options[varName] !== undefined ? options[varName] : match;\n    });\n  }\n\n  // Simple pluralization\n  tp(key, count, options = {}) {\n    const pluralKey = `${key}_${this.getPluralForm(count)}`;\n    return this.t(pluralKey, { ...options, count });\n  }\n\n  getPluralForm(count) {\n    // Simplified rules\n    if (count === 0) return 'zero';\n    if (count === 1) return 'one';\n    return 'other';\n  }\n}\n\nconst i18n = new I18n();\nexport default i18n;\n\n// Usage\ni18n.setLocale('fr');\nconsole.log(i18n.t('welcome')); // 'Bienvenue'\nconsole.log(i18n.t('hello', { name: 'Marie' })); // 'Bonjour, Marie !'\nconsole.log(i18n.tp('items', 0)); // 'Aucun article'\nconsole.log(i18n.tp('items', 5)); // '5 articles'"
    },
    {
      "id": "react-i18next",
      "moduleId": "i18n-basics",
      "title": "React i18next",
      "order": 2,
      "difficulty": "intermediate",
      "content": "# Essential to know\n- i18next = standard i18n library for JavaScript\n- react-i18next = React integration for i18next\n- useTranslation hook for functional components\n- Trans component for complex JSX\n- Supports interpolation, plurals, context\n- Namespace to organize translations\n- Lazy loading of translations possible\n\n---\n\n# React i18next: The Industry Standard\n\n## Installation\n\n```bash\nnpm install react-i18next i18next\n\n# Optional plugins\nnpm install i18next-http-backend   # Loading via HTTP\nnpm install i18next-browser-languagedetector  # Auto language detection\n```\n\n## Configuration\n\n### i18n.js\n\n```javascript\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-http-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\n// Direct import of translations (for bundler)\nimport enCommon from './locales/en/common.json';\nimport frCommon from './locales/fr/common.json';\n\ni18n\n  // Language detection plugin\n  .use(LanguageDetector)\n  // Backend loading plugin\n  .use(Backend)\n  // Pass i18n instance to react-i18next\n  .use(initReactI18next)\n  // Initialization\n  .init({\n    // Fallback language\n    fallbackLng: 'en',\n    \n    // Debug in development\n    debug: process.env.NODE_ENV === 'development',\n    \n    // Default namespace\n    defaultNS: 'common',\n    \n    // Resources (if direct import)\n    resources: {\n      en: { common: enCommon },\n      fr: { common: frCommon }\n    },\n    \n    // or loading via backend\n    backend: {\n      loadPath: '/locales/{{lng}}/{{ns}}.json'\n    },\n    \n    // Language detection\n    detection: {\n      order: ['localStorage', 'navigator', 'htmlTag'],\n      caches: ['localStorage']\n    },\n    \n    // Interpolation\n    interpolation: {\n      escapeValue: false, // React already protects against XSS\n    },\n  });\n\nexport default i18n;\n```\n\n### App.jsx\n\n```jsx\nimport React from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport i18n from './i18n';\nimport App from './App';\n\nReactDOM.render(\n  <I18nextProvider i18n={i18n}>\n    <App />\n  </I18nextProvider>,\n  document.getElementById('root')\n);\n```\n\n## Using useTranslation Hook\n\n```jsx\nimport { useTranslation } from 'react-i18next';\n\nfunction Welcome() {\n  const { t, i18n } = useTranslation();\n  \n  return (\n    <div>\n      <h1>{t('welcome')}</h1>\n      <p>{t('hello', { name: 'Marie' })}</p>\n      \n      <button onClick={() => i18n.changeLanguage('en')}>\n        English\n      </button>\n      <button onClick={() => i18n.changeLanguage('fr')}>\n        Fran√ßais\n      </button>\n    </div>\n  );\n}\n```\n\n### Interpolation\n\n```json\n{\n  \"welcome\": \"Hello, {{name}}!\",\n  \"balance\": \"You have {{amount}} {{currency}}\",\n  \"date\": \"Today is {{date, DD/MM/YYYY}}\"\n}\n```\n\n```jsx\nfunction Greeting({ userName, balance }) {\n  const { t } = useTranslation();\n  \n  return (\n    <div>\n      <p>{t('welcome', { name: userName })}</p>\n      <p>{t('balance', { amount: balance, currency: '‚Ç¨' })}</p>\n    </div>\n  );\n}\n```\n\n### Plurals\n\n```json\n{\n  \"item_zero\": \"No items\",\n  \"item_one\": \"One item\",\n  \"item_other\": \"{{count}} items\",\n  \"item_few\": \"{{count}} items\"\n}\n```\n\n```jsx\nfunction ItemCount({ count }) {\n  const { t } = useTranslation();\n  \n  return <p>{t('item', { count })}</p>;\n  // count=0 ‚Üí \"No items\"\n  // count=1 ‚Üí \"One item\"\n  // count=5 ‚Üí \"5 items\"\n}\n```\n\n### Context\n\n```json\n{\n  \"greeting\": \"Hello\",\n  \"greeting_male\": \"Hello sir\",\n  \"greeting_female\": \"Hello madam\"\n}\n```\n\n```jsx\nfunction Greeting({ gender }) {\n  const { t } = useTranslation();\n  \n  return <p>{t('greeting', { context: gender })}</p>;\n}\n```\n\n## Trans Component for Complex JSX\n\n```jsx\nimport { Trans } from 'react-i18next';\n\n// JSON\n{\n  \"terms\": \"I agree to the <1>terms of service</1> and <3>privacy policy</3>\"\n}\n\n// Component\nfunction TermsAgreement() {\n  return (\n    <p>\n      <Trans i18nKey=\"terms\">\n        I agree to the\n        <a href=\"/terms\">terms of service</a>\n        and\n        <a href=\"/privacy\">privacy policy</a>\n      </Trans>\n    </p>\n  );\n}\n```\n\n## Language Switching\n\n```jsx\nimport { useTranslation } from 'react-i18next';\n\nfunction LanguageSwitcher() {\n  const { i18n } = useTranslation();\n  \n  const changeLanguage = (lng) => {\n    i18n.changeLanguage(lng);\n  };\n  \n  return (\n    <div>\n      <button onClick={() => changeLanguage('en')}>üá¨üáß English</button>\n      <button onClick={() => changeLanguage('fr')}>üá´üá∑ Fran√ßais</button>\n      <button onClick={() => changeLanguage('es')}>üá™üá∏ Espa√±ol</button>\n    </div>\n  );\n}\n```\n\n## Lazy Loading of Translations\n\n```jsx\nimport i18n from 'i18next';\n\n// Load a language dynamically\nasync function loadLanguage(language) {\n  const translations = await import(`./locales/${language}/common.json`);\n  i18n.addResourceBundle(language, 'common', translations.default);\n  i18n.changeLanguage(language);\n}\n```",
      "codeExample": "// Complete React i18next example\n\n// ========== i18n.js ==========\nimport i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\nimport enCommon from './locales/en/common.json';\nimport enUser from './locales/en/user.json';\nimport frCommon from './locales/fr/common.json';\nimport frUser from './locales/fr/user.json';\nimport esCommon from './locales/es/common.json';\nimport esUser from './locales/es/user.json';\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: {\n        common: enCommon,\n        user: enUser\n      },\n      fr: {\n        common: frCommon,\n        user: frUser\n      },\n      es: {\n        common: esCommon,\n        user: esUser\n      }\n    },\n    fallbackLng: 'en',\n    defaultNS: 'common',\n    detection: {\n      order: ['localStorage', 'navigator'],\n      caches: ['localStorage']\n    },\n    interpolation: {\n      escapeValue: false\n    }\n  });\n\nexport default i18n;\n\n// ========== locales/fr/common.json ==========\n{\n  \"app\": {\n    \"title\": \"Mon Application\",\n    \"welcome\": \"Bienvenue, {{name}} !\",\n    \"items\": {\n      \"zero\": \"Aucun article\",\n      \"one\": \"Un article\",\n      \"other\": \"{{count}} articles\"\n    }\n  },\n  \"buttons\": {\n    \"save\": \"Enregistrer\",\n    \"cancel\": \"Annuler\",\n    \"delete\": \"Supprimer\",\n    \"loading\": \"Chargement...\"\n  },\n  \"errors\": {\n    \"required\": \"Ce champ est requis\",\n    \"email\": \"Veuillez entrer un email valide\",\n    \"generic\": \"Une erreur est survenue\"\n  },\n  \"nav\": {\n    \"home\": \"Accueil\",\n    \"profile\": \"Profil\",\n    \"settings\": \"Param√®tres\"\n  }\n}\n\n// ========== App.jsx ==========\nimport { useTranslation, Trans } from 'react-i18next';\nimport './i18n';\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <Main />\n      <Footer />\n    </div>\n  );\n}\n\nfunction Header() {\n  const { t, i18n } = useTranslation('common');\n  \n  return (\n    <header>\n      <h1>{t('app.title')}</h1>\n      <nav>\n        <a href=\"/\">{t('nav.home')}</a>\n        <a href=\"/profile\">{t('nav.profile')}</a>\n        <button onClick={() => i18n.changeLanguage(i18n.language === 'en' ? 'fr' : 'en')}>\n          {i18n.language === 'en' ? 'üá´üá∑ FR' : 'üá¨üáß EN'}\n        </button>\n      </nav>\n    </header>\n  );\n}\n\nfunction ItemList({ count }) {\n  const { t } = useTranslation('common');\n  \n  return (\n    <div>\n      <p>{t('app.items', { count })}</p>\n      <button>{t('buttons.save')}</button>\n    </div>\n  );\n}\n\nfunction Terms() {\n  return (\n    <p>\n      <Trans i18nKey=\"terms\" ns=\"common\">\n        By continuing, you agree to our <1>terms</1> and <3>privacy policy</3>\n      </Trans>\n    </p>\n  );\n}\n\nexport default App;"
    },
    {
      "id": "i18n-advanced",
      "moduleId": "i18n-basics",
      "title": "Advanced i18n",
      "order": 3,
      "difficulty": "advanced",
      "content": "# Essential to know\n- RTL (Right-to-Left) for Arabic/Hebrew: change layout direction\n- ICU MessageFormat for complex plurals\n- Date/number formatting with Intl API\n- Pseudo-localization for testing UI\n- Key extractors (i18next-parser)\n- Contextual management (gender, formality)\n- Lazy loading and code splitting\n\n---\n\n# Advanced i18n: Pro Techniques\n\n## 1. RTL Support (Right-to-Left)\n\nRTL languages: Arabic, Hebrew, Persian, Urdu...\n\n### Detection and Application\n\n```jsx\n// Detect if language is RTL\nconst RTL_LANGUAGES = ['ar', 'he', 'fa', 'ur'];\n\nfunction isRTL(locale) {\n  return RTL_LANGUAGES.includes(locale);\n}\n\n// Application in React\nfunction App() {\n  const { i18n } = useTranslation();\n  const rtl = isRTL(i18n.language);\n  \n  useEffect(() => {\n    document.documentElement.dir = rtl ? 'rtl' : 'ltr';\n  }, [rtl]);\n  \n  return (\n    <div className={rtl ? 'rtl' : 'ltr'}>\n      <Content />\n    </div>\n  );\n}\n```\n\n### CSS for RTL\n\n```css\n/* Approach with logical properties (recommended) */\n.element {\n  /* Instead of margin-left */\n  margin-inline-start: 1rem;\n  \n  /* Instead of text-align: left */\n  text-align: start;\n  \n  /* Instead of border-right */\n  border-inline-end: 1px solid;\n}\n\n/* Or with RTL classes */\n[dir='rtl'] .sidebar {\n  left: auto;\n  right: 0;\n}\n\n[dir='rtl'] .icon-arrow {\n  transform: scaleX(-1);\n}\n```\n\n## 2. Formatting with Intl API\n\n```javascript\n// Dates\nconst date = new Date();\n\nnew Intl.DateTimeFormat('en-US').format(date);     // \"12/20/2023\"\nnew Intl.DateTimeFormat('fr-FR').format(date);     // \"20/12/2023\"\nnew Intl.DateTimeFormat('ja-JP').format(date);     // \"2023/12/20\"\n\nnew Intl.DateTimeFormat('fr-FR', {\n  weekday: 'long',\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric'\n}).format(date); // \"mercredi 20 d√©cembre 2023\"\n\n// Numbers\nnew Intl.NumberFormat('en-US').format(1234567.89); // \"1,234,567.89\"\nnew Intl.NumberFormat('fr-FR').format(1234567.89); // \"1 234 567,89\"\nnew Intl.NumberFormat('de-DE').format(1234567.89); // \"1.234.567,89\"\n\n// Currencies\nnew Intl.NumberFormat('fr-FR', {\n  style: 'currency',\n  currency: 'EUR'\n}).format(99.99); // \"99,99 ‚Ç¨\"\n\nnew Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD'\n}).format(99.99); // \"$99.99\"\n\n// Units\nnew Intl.NumberFormat('en', {\n  style: 'unit',\n  unit: 'kilometer'\n}).format(5); // \"5 km\"\n\n// Relative time\nnew Intl.RelativeTimeFormat('fr').format(-1, 'day');    // \"il y a 1 jour\"\nnew Intl.RelativeTimeFormat('fr').format(3, 'month');   // \"dans 3 mois\"\n```\n\n### FormatDate Component\n\n```jsx\nimport { useTranslation } from 'react-i18next';\n\nfunction FormatDate({ date, options = {} }) {\n  const { i18n } = useTranslation();\n  \n  const formatter = new Intl.DateTimeFormat(i18n.language, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    ...options\n  });\n  \n  return <span>{formatter.format(new Date(date))}</span>;\n}\n\n// Usage\n<FormatDate date={post.createdAt} />\n<FormatDate date={event.date} options={{ weekday: 'long' }} />\n```\n\n## 3. Complex Plurals (ICU Format)\n\n```json\n{\n  \"message\": \"{count, plural,\\n    =0 {No messages}\\n    one {One message}\\n    few {{count} messages}\\n    many {{count} messages}\\n    other {{count} messages}\\n  }\"\n}\n```\n\n```jsx\nimport { useTranslation } from 'react-i18next';\n\nfunction MessageCount({ count }) {\n  const { t } = useTranslation();\n  \n  return (\n    <p>{t('message', { count, interpolation: { escapeValue: false } })}</p>\n  );\n}\n```\n\n## 4. Pseudo-localization (UI Testing)\n\nTo verify that your UI supports long languages well:\n\n```json\n// pseudo.json\n{\n  \"welcome\": \"[≈¥√™ƒº√ß√∏…±√™ ≈£√∏ …±√Ω √¢ppƒº√Æ√ß√¢≈£√Æ√∏…±]\",\n  \"description\": \"[≈¢ƒ•√Æ≈° √Æ≈° √¢ …≠√∏…≥ƒù√™≈ô ≈£√™—Ö≈£ ≈£ƒ•√¢≈£ ≈°ƒ•√∏√ªƒº√∞ ∆í√Æ≈£ √Æ…≥ ≈£ƒ•√™ √ú√é]\"\n}\n```\n\n## 5. Key Extractor\n\n```bash\nnpm install --save-dev i18next-parser\n```\n\n```javascript\n// i18next-parser.config.js\nmodule.exports = {\n  locales: ['en', 'fr', 'es'],\n  output: 'src/locales/$LOCALE/$NAMESPACE.json',\n  input: ['src/**/*.{js,jsx}'],\n  \n  // Options\n  sort: true,\n  removeUnusedKeys: true,\n  keepRemoved: false\n};\n```\n\n```json\n// package.json\n{\n  \"scripts\": {\n    \"i18n:extract\": \"i18next 'src/**/*.{js,jsx}' -c i18next-parser.config.js\"\n  }\n}\n```\n\n## 6. Translation Context\n\n```json\n{\n  \"greeting\": \"Hello\",\n  \"greeting_formal\": \"Good day\",\n  \"greeting_informal\": \"Hey\",\n  \"greeting_male\": \"Hello sir\",\n  \"greeting_female\": \"Hello madam\"\n}\n```\n\n```jsx\nfunction Greeting({ formality, gender }) {\n  const { t } = useTranslation();\n  \n  // Multiple context\n  const context = `${formality}_${gender}`;\n  // t('greeting_formal_male')\n  \n  return <p>{t('greeting', { context })}</p>;\n}\n```\n\n## 7. Lazy Loading and Code Splitting\n\n```jsx\n// On-the-fly loading\nfunction LanguageLoader({ children }) {\n  const { i18n } = useTranslation();\n  const [loaded, setLoaded] = useState(false);\n  \n  useEffect(() => {\n    const loadResources = async () => {\n      const locale = i18n.language;\n      \n      // Load only if not already loaded\n      if (!i18n.hasResourceBundle(locale, 'common')) {\n        const resources = await import(`./locales/${locale}/common.json`);\n        i18n.addResourceBundle(locale, 'common', resources);\n      }\n      \n      setLoaded(true);\n    };\n    \n    loadResources();\n  }, [i18n.language]);\n  \n  if (!loaded) return <Loading />;\n  return children;\n}\n```",
      "codeExample": "// Complete i18n example with RTL and formatting\n\n// ========== utils/i18n-helpers.js ==========\nexport const RTL_LANGUAGES = ['ar', 'he', 'fa', 'ur'];\n\nexport function isRTL(locale) {\n  return RTL_LANGUAGES.includes(locale);\n}\n\nexport function useRTL() {\n  const { i18n } = useTranslation();\n  return isRTL(i18n.language);\n}\n\nexport function formatDate(date, locale, options = {}) {\n  return new Intl.DateTimeFormat(locale, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    ...options\n  }).format(new Date(date));\n}\n\nexport function formatNumber(number, locale, options = {}) {\n  return new Intl.NumberFormat(locale, options).format(number);\n}\n\nexport function formatCurrency(amount, locale, currency) {\n  return new Intl.NumberFormat(locale, {\n    style: 'currency',\n    currency\n  }).format(amount);\n}\n\nexport function formatRelativeTime(value, unit, locale) {\n  return new Intl.RelativeTimeFormat(locale).format(value, unit);\n}\n\n// ========== components/FormattedDate.jsx ==========\nimport { useTranslation } from 'react-i18next';\n\nexport function FormattedDate({ date, options }) {\n  const { i18n } = useTranslation();\n  const formatted = formatDate(date, i18n.language, options);\n  return <time dateTime={date}>{formatted}</time>;\n}\n\n// ========== components/Currency.jsx ==========\nexport function Currency({ amount, currency = 'EUR' }) {\n  const { i18n } = useTranslation();\n  const formatted = formatCurrency(amount, i18n.language, currency);\n  return <span className=\"currency\">{formatted}</span>;\n}\n\n// ========== components/RTLProvider.jsx ==========\nimport { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { isRTL } from '../utils/i18n-helpers';\n\nexport function RTLProvider({ children }) {\n  const { i18n } = useTranslation();\n  const rtl = isRTL(i18n.language);\n  \n  useEffect(() => {\n    document.documentElement.dir = rtl ? 'rtl' : 'ltr';\n    document.documentElement.lang = i18n.language;\n  }, [i18n.language, rtl]);\n  \n  return (\n    <div className={rtl ? 'rtl' : 'ltr'}>\n      {children}\n    </div>\n  );\n}\n\n// ========== Usage ==========\nfunction Post({ post }) {\n  return (\n    <article>\n      <h2>{post.title}</h2>\n      <FormattedDate date={post.createdAt} />\n      <Currency amount={post.price} currency=\"USD\" />\n      <p>{post.content}</p>\n    </article>\n  );\n}\n\n// App with RTL support\nfunction App() {\n  return (\n    <RTLProvider>\n      <Router>\n        <Routes />\n      </Router>\n    </RTLProvider>\n  );\n}\n\n// CSS with logical properties\n/* styles.css */\n.card {\n  /* Logical properties adapt to direction */\n  margin-inline-start: 1rem;\n  margin-inline-end: 1rem;\n  padding-inline: 1rem;\n  border-inline-start: 2px solid blue;\n  text-align: start;\n}\n\n/* RTL specific adjustments */\n[dir='rtl'] .icon-arrow {\n  transform: scaleX(-1);\n}\n\n[dir='rtl'] .sidebar {\n  left: auto;\n  right: 0;\n}"
    }
  ],
  "exercises": [
    {
      "id": "i18n-ex-1",
      "lessonId": "i18n-intro",
      "moduleId": "i18n-basics",
      "title": "i18n Basics Quiz",
      "difficulty": "easy",
      "type": "quiz",
      "questions": [
        {
          "question": "What does 'i18n' stand for?",
          "options": [
            "18 international languages",
            "Internationalization (18 letters between i and n)",
            "Internet 2018",
            "iPhone 18 news"
          ],
          "correctAnswer": 1,
          "explanation": "i18n is the abbreviation for 'Internationalization' - there are 18 letters between the 'i' and the 'n'."
        },
        {
          "question": "What is the difference between i18n and l10n?",
          "options": [
            "i18n is for web, l10n for mobile",
            "i18n = prepare code, l10n = translate content",
            "There is no difference",
            "l10n is obsolete"
          ],
          "correctAnswer": 1,
          "explanation": "i18n (Internationalization) is preparing the architecture to support multiple languages. l10n (Localization) is actually translating content into a specific language."
        },
        {
          "question": "Which language gives access to the largest number of Internet users?",
          "options": [
            "French",
            "English",
            "Chinese",
            "Spanish"
          ],
          "correctAnswer": 1,
          "explanation": "English remains the #1 language with approximately 1.5 billion users, followed by Chinese with 1.1 billion."
        }
      ]
    },
    {
      "id": "i18n-ex-2",
      "lessonId": "react-i18next",
      "moduleId": "i18n-basics",
      "title": "React i18next Quiz",
      "difficulty": "medium",
      "type": "quiz",
      "questions": [
        {
          "question": "Which hook is used for translation in React i18next?",
          "options": [
            "useTranslate",
            "useTranslation",
            "useI18n",
            "useLocale"
          ],
          "correctAnswer": 1,
          "explanation": "useTranslation is the main hook from react-i18next to access translation features."
        },
        {
          "question": "How do you pass a variable in a translation?",
          "options": [
            "t('key', variable)",
            "t('key', { variableName: value })",
            "t('key').replace('{var}', value)",
            "t('key', value)"
          ],
          "correctAnswer": 1,
          "explanation": "Pass an object with variables: t('welcome', { name: 'Marie' }). In JSON: 'welcome': 'Hello, {{name}}!'"
        },
        {
          "question": "What is the Trans component used for?",
          "options": [
            "To translate automatically",
            "To include JSX in translations",
            "To change language",
            "To format dates"
          ],
          "correctAnswer": 1,
          "explanation": "The Trans component allows including JSX (links, spans, etc.) in translations while keeping the text translatable."
        }
      ]
    },
    {
      "id": "i18n-ex-3",
      "lessonId": "i18n-advanced",
      "moduleId": "i18n-basics",
      "title": "Advanced i18n Quiz",
      "difficulty": "medium",
      "type": "quiz",
      "questions": [
        {
          "question": "What is RTL in the i18n context?",
          "options": [
            "Real-Time Language",
            "Right-To-Left (languages written from right to left)",
            "Ready To Launch",
            "Return To Language"
          ],
          "correctAnswer": 1,
          "explanation": "RTL = Right-To-Left. Some languages like Arabic and Hebrew are read from right to left, requiring layout adaptation."
        },
        {
          "question": "Which native JavaScript API allows formatting dates according to locale?",
          "options": [
            "Date.format()",
            "Intl.DateTimeFormat",
            "Date.toLocale()",
            "i18n.formatDate()"
          ],
          "correctAnswer": 1,
          "explanation": "Intl.DateTimeFormat is the native JavaScript API for formatting dates according to the user's locale."
        },
        {
          "question": "Why use 'logical properties' in CSS for i18n?",
          "options": [
            "To make it faster",
            "To make layout automatically adapt to RTL",
            "To reduce CSS size",
            "For older browsers"
          ],
          "correctAnswer": 1,
          "explanation": "Logical properties (margin-inline-start instead of margin-left) automatically adapt to text direction (LTR or RTL)."
        }
      ]
    }
  ]
}