{
  "module": {
    "id": "express-intro",
    "title": "Express: Fundamentals",
    "description": "Understand Express.js, create your first web server, and master basic routing",
    "icon": "Globe",
    "requiredXp": 400,
    "color": "from-yellow-500 to-orange-500",
    "courseId": "node-express"
  },
  "lessons": [
    {
      "id": "express-what-is",
      "moduleId": "express-intro",
      "title": "What is Express?",
      "order": 1,
      "difficulty": "beginner",
      "content": "# Essential to know\n- Express is the most popular web framework for Node.js\n- Minimalist and flexible: add what you need\n- Provides routing, middleware, and request/response handling\n- Foundation for many frameworks (Next.js API routes, Nest.js, etc.)\n\n---\n\n# The Philosophy of Express\n\nExpress defines itself as a \"minimalist and flexible web framework\". Unlike frameworks like Django (Python) or Ruby on Rails that impose a structure, Express gives you:\n- A solid foundation for handling HTTP\n- The freedom to organize your code as you want\n- An ecosystem of middleware for everything\n\n## Why Express?\n\n### Advantages\n- **Easy to learn**: Master the basics in one hour\n- **Flexible**: Organize your code as you want\n- **Popular**: More than 25 million downloads/week\n- **Well-documented**: Tutorials, Stack Overflow, rich ecosystem\n- **Production-ready**: Used by Uber, Netflix, IBM\n\n### Modern Alternatives\n- **Fastify**: Faster, built-in JSON Schema validation\n- **Hono**: Ultra-lightweight, for Edge/Serverless\n- **NestJS**: Complete architecture (Angular-inspired)\n- **Koa**: By the Express team, more modern\n\n## Express vs Native Node.js Comparison\n\n### Without Express (Native HTTP)\n```javascript\nimport http from 'http';\n\nconst server = http.createServer((req, res) => {\n  if (req.url === '/' && req.method === 'GET') {\n    res.writeHead(200, { 'Content-Type': 'text/plain' });\n    res.end('Home');\n  } else if (req.url === '/users' && req.method === 'GET') {\n    res.writeHead(200, { 'Content-Type': 'application/json' });\n    res.end(JSON.stringify([{ id: 1, name: 'John' }]));\n  } else {\n    res.writeHead(404);\n    res.end('Not Found');\n  }\n});\n\nserver.listen(3000);\n```\n\n### With Express\n```javascript\nimport express from 'express';\nconst app = express();\n\napp.get('/', (req, res) => {\n  res.send('Home');\n});\n\napp.get('/users', (req, res) => {\n  res.json([{ id: 1, name: 'John' }]);\n});\n\napp.listen(3000);\n```\n\n**Express reduces 20 lines to 10, with better readability.**"
    },
    {
      "id": "express-first-server",
      "moduleId": "express-intro",
      "title": "Your First Express Server",
      "order": 2,
      "difficulty": "beginner",
      "content": "# Essential to know\n- `express()` creates an application\n- `app.listen()` starts the server on a port\n- `req` (request) and `res` (response) contain everything\n- `res.send()`, `res.json()` send the response\n\n---\n\n# Creating a Minimal Server\n\nCreate `index.js`:\n\n```javascript\nimport express from 'express';\n\n// Create the Express application\nconst app = express();\n\n// Define a route\napp.get('/', (req, res) => {\n  res.send('Hello World!');\n});\n\n// Start the server\nconst PORT = 3000;\napp.listen(PORT, () => {\n  console.log(`Server started at http://localhost:${PORT}`);\n});\n```\n\nExecute:\n```bash\nnpm run dev\n```\n\nVisit http://localhost:3000 in your browser!\n\n## The req and res Objects\n\n### Request (req)\nContains all information about the HTTP request:\n\n```javascript\napp.get('/test', (req, res) => {\n  // URL and method\n  console.log(req.url);        // /test\n  console.log(req.method);     // GET\n  console.log(req.path);       // /test\n  \n  // Headers\n  console.log(req.headers);    // All headers\n  console.log(req.get('User-Agent'));  // A specific header\n  \n  // Query params (/test?name=John&age=30)\n  console.log(req.query);      // { name: 'John', age: '30' }\n  \n  // Client IP\n  console.log(req.ip);\n  \n  res.send('Check console');\n});\n```\n\n### Response (res)\nMethods to build and send the response:\n\n```javascript\napp.get('/demo', (req, res) => {\n  // Send text\n  res.send('Simple text');\n  \n  // Send JSON\n  res.json({ message: 'Hello', status: 'ok' });\n  \n  // Send a file\n  res.sendFile('/path/to/file.pdf');\n  \n  // Redirect\n  res.redirect('/new-url');\n  res.redirect(301, '/permanent');\n  \n  // Status codes\n  res.status(404).send('Not found');\n  res.status(500).json({ error: 'Server error' });\n  \n  // Headers\n  res.set('X-Custom-Header', 'value');\n  res.set({\n    'Content-Type': 'text/plain',\n    'Cache-Control': 'no-cache'\n  });\n});\n```\n\n## Route Patterns\n\n```javascript\n// Exact path\napp.get('/users', handler);\n\n// Multiple methods\napp.route('/users')\n  .get(getUsers)\n  .post(createUser)\n  .put(updateUser);\n\n// All HTTP methods\napp.all('/api/*', (req, res) => {\n  // Matches any method on /api/*\n});\n```"
    },
    {
      "id": "express-routing",
      "moduleId": "express-intro",
      "title": "Routing: Managing URLs",
      "order": 3,
      "difficulty": "beginner",
      "content": "# Essential to know\n- `app.get()`, `app.post()`, `app.put()`, `app.delete()` for HTTP methods\n- Route parameters with `:id` for dynamic values\n- Query strings in `req.query`\n- `express.Router()` to modularize routes\n\n---\n\n# Routing Basics\n\nRouting determines how the application responds to a client request at a specific URI and HTTP method.\n\n## Basic HTTP Methods\n\n```javascript\nimport express from 'express';\nconst app = express();\n\n// GET - Retrieve data\napp.get('/users', (req, res) => {\n  res.json([{ id: 1, name: 'John' }]);\n});\n\n// POST - Create data\napp.post('/users', (req, res) => {\n  // Create a user...\n  res.status(201).json({ id: 2, name: 'New User' });\n});\n\n// PUT - Replace completely\napp.put('/users/:id', (req, res) => {\n  // Replace the user...\n  res.json({ id: req.params.id, updated: true });\n});\n\n// PATCH - Partially modify\napp.patch('/users/:id', (req, res) => {\n  // Modify the user...\n  res.json({ id: req.params.id, patched: true });\n});\n\n// DELETE - Delete\napp.delete('/users/:id', (req, res) => {\n  // Delete the user...\n  res.status(204).send();\n});\n```\n\n## Route Parameters\n\nParameters captured in the URL:\n\n```javascript\n// /users/123 â†’ req.params.id = '123'\napp.get('/users/:id', (req, res) => {\n  const userId = req.params.id;\n  res.json({ id: userId, name: `User ${userId}` });\n});\n\n// /users/123/posts/456\napp.get('/users/:userId/posts/:postId', (req, res) => {\n  const { userId, postId } = req.params;\n  res.json({ userId, postId });\n});\n```\n\n## Query Strings\n\nParameters after `?`:\n\n```javascript\n// /users?page=2&limit=10&sort=name\napp.get('/users', (req, res) => {\n  const { page = '1', limit = '10', sort } = req.query;\n  \n  res.json({\n    page: parseInt(page),\n    limit: parseInt(limit),\n    sort,\n    users: []\n  });\n});\n```\n\n## Multiple Route Handlers\n\n```javascript\n// Array of handlers\napp.get('/admin',\n  authenticate,     // First: check auth\n  requireAdmin,     // Second: check admin rights\n  getAdminData      // Third: send data\n);\n\n// With next()\napp.get('/chain',\n  (req, res, next) => {\n    console.log('First');\n    next();  // Continue to next handler\n  },\n  (req, res, next) => {\n    console.log('Second');\n    next();\n  },\n  (req, res) => {\n    res.send('Third - Final');\n  }\n);\n```\n\n## express.Router()\n\n```javascript\n// routes/users.js\nimport express from 'express';\nconst router = express.Router();\n\n// Routes relative to /users\nrouter.get('/', (req, res) => {\n  res.json(allUsers);\n});\n\nrouter.get('/:id', (req, res) => {\n  res.json(getUser(req.params.id));\n});\n\nrouter.post('/', (req, res) => {\n  // Create user\n});\n\nexport default router;\n\n// app.js\nimport usersRouter from './routes/users.js';\n\napp.use('/users', usersRouter);  // Prefix all routes with /users\n```"
    },
    {
      "id": "express-request-body",
      "moduleId": "express-intro",
      "title": "Processing Request Bodies",
      "order": 4,
      "difficulty": "intermediate",
      "content": "# Essential to know\n- `express.json()` parses JSON bodies\n- `express.urlencoded()` parses HTML forms\n- The parsed body is available in `req.body`\n- Without middleware, `req.body` is undefined\n\n---\n\n# Receiving Data from the Client\n\nTo process data sent by the client (POST, PUT, PATCH), Express needs middleware to parse the body.\n\n## Parsing Middleware\n\n```javascript\nimport express from 'express';\nconst app = express();\n\n// Parse JSON (Content-Type: application/json)\napp.use(express.json());\n\n// Parse HTML forms (Content-Type: application/x-www-form-urlencoded)\napp.use(express.urlencoded({ extended: true }));\n```\n\n## Receiving JSON\n\n```javascript\napp.post('/users', (req, res) => {\n  // req.body contains the parsed JSON\n  const { name, email, age } = req.body;\n  \n  console.log('Received data:', req.body);\n  // { name: 'John', email: 'john@example.com', age: 30 }\n  \n  // Create the user...\n  const newUser = {\n    id: Date.now(),\n    name,\n    email,\n    age\n  };\n  \n  res.status(201).json(newUser);\n});\n```\n\nTest with curl:\n```bash\ncurl -X POST http://localhost:3000/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"John\",\"email\":\"john@example.com\",\"age\":30}'\n```\n\n## Receiving HTML Forms\n\n```javascript\napp.post('/contact', (req, res) => {\n  // HTML form: <form> with method=\"POST\"\n  const { name, email, message } = req.body;\n  \n  console.log('Form received:', { name, email, message });\n  \n  res.send('Message sent!');\n});\n```\n\n## Advanced Configuration\n\n```javascript\n// Body size limit (default 100kb)\napp.use(express.json({ limit: '10mb' }));\n\n// Parse only for certain routes\napp.post('/upload', express.json({ limit: '50mb' }), (req, res) => {\n  // This route accepts large JSON payloads\n});\n\n// Strict mode: reject non-standard types\napp.use(express.json({ strict: false }));  // Accepts more types\n\n// Type checking\napp.use(express.json({\n  type: 'application/vnd.custom+json'  // Accept custom content types\n}));\n```\n\n## Complete CRUD Example\n\n```javascript\nimport express from 'express';\nconst app = express();\n\n// Middleware required for all routes\napp.use(express.json());\n\n// In-memory storage\nconst users = [];\n\n// CREATE\napp.post('/users', (req, res) => {\n  const { name, email } = req.body;\n  const user = {\n    id: Date.now().toString(),\n    name,\n    email\n  };\n  users.push(user);\n  res.status(201).json(user);\n});\n\n// READ\napp.get('/users', (req, res) => {\n  res.json(users);\n});\n\napp.get('/users/:id', (req, res) => {\n  const user = users.find(u => u.id === req.params.id);\n  if (!user) return res.status(404).json({ error: 'Not found' });\n  res.json(user);\n});\n\n// UPDATE\napp.patch('/users/:id', (req, res) => {\n  const user = users.find(u => u.id === req.params.id);\n  if (!user) return res.status(404).json({ error: 'Not found' });\n  \n  Object.assign(user, req.body);  // Merge updates\n  res.json(user);\n});\n\n// DELETE\napp.delete('/users/:id', (req, res) => {\n  const index = users.findIndex(u => u.id === req.params.id);\n  if (index === -1) return res.status(404).json({ error: 'Not found' });\n  \n  users.splice(index, 1);\n  res.status(204).send();\n});\n\napp.listen(3000);\n```"
    }
  ],
  "exercises": []
}
