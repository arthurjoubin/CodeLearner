---
import MainLayout from '../../layouts/MainLayout.astro';
import ModulePage from '../../pages/_ModulePage';
import { getModule } from '../../data/modules';
import { getLearningPathTitles } from '../../data/course-metadata';

const learningPathTitles = getLearningPathTitles();

const { moduleId } = Astro.params;
const module = moduleId ? getModule(moduleId) : undefined;
const pathTitle = module ? learningPathTitles[module.courseId] || module.courseId : '';
const pageTitle = pathTitle && module ? `${pathTitle} - ${module.title}` : `Module - ${moduleId}`;
---

<MainLayout title={pageTitle}>
	<ModulePage client:load moduleId={moduleId} />
</MainLayout>
