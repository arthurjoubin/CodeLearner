---
import MainLayout from '../layouts/MainLayout.astro';
import PageTitle from '../components/PageTitle.astro';
import { getCollection } from 'astro:content';
import { Newspaper, Command, Brain, Tag, ExternalLink, TrendingUp } from 'lucide-react';

const news = await getCollection('news');

const devfinds = (await getCollection('devfinds')).sort(
	(a: { data: { pubDate: Date } }, b: { data: { pubDate: Date } }) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);

const tools = await getCollection('tools');
const llms = await getCollection('llms');
---

<MainLayout title="Resources">
	<div class="page-enter">
		<div class="mb-6">
			<PageTitle>
				<h1 slot="title" class="text-2xl font-black text-gray-900 uppercase">Resources</h1>
			</PageTitle>
			<p class="text-gray-700 mt-1">AI news, tools, models, and Dev Finds</p>
		</div>

		<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3 p-1">
			<a
				href="/resources/news"
				class="group border-2 border-gray-300 rounded-lg p-4 transition-all hover:border-primary-500 hover:shadow-md bg-white relative"
			>
				<div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
					<ExternalLink class="w-4 h-4 text-gray-400" />
				</div>
				<div class="flex items-center gap-3 mb-3">
					<div class="w-10 h-10 bg-primary-100 flex items-center justify-center rounded-lg">
						<Newspaper class="w-5 h-5 text-primary-700" />
					</div>
					<div class="flex items-center gap-2">
						<div class="w-2 h-2 bg-primary-500 rounded-full group-hover:scale-150 transition-transform" />
						<h3 class="font-bold text-gray-900 uppercase text-sm group-hover:text-primary-700 transition-colors">Latest News</h3>
					</div>
				</div>
				<p class="text-xs text-gray-700">{news.length} articles</p>
			</a>

			<a
				href="/resources/tools"
				class="group border-2 border-gray-300 rounded-lg p-4 transition-all hover:border-primary-500 hover:shadow-md bg-white relative"
			>
				<div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
					<ExternalLink class="w-4 h-4 text-gray-400" />
				</div>
				<div class="flex items-center gap-3 mb-3">
					<div class="w-10 h-10 bg-primary-100 flex items-center justify-center rounded-lg">
						<Command class="w-5 h-5 text-primary-700" />
					</div>
					<div class="flex items-center gap-2">
						<div class="w-2 h-2 bg-primary-500 rounded-full group-hover:scale-150 transition-transform" />
						<h3 class="font-bold text-gray-900 uppercase text-sm group-hover:text-primary-700 transition-colors">AI Tools</h3>
					</div>
				</div>
				<p class="text-xs text-gray-700">{tools.length} tools</p>
			</a>

			<a
				href="/resources/llms"
				class="group border-2 border-gray-300 rounded-lg p-4 transition-all hover:border-primary-500 hover:shadow-md bg-white relative"
			>
				<div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
					<ExternalLink class="w-4 h-4 text-gray-400" />
				</div>
				<div class="flex items-center gap-3 mb-3">
					<div class="w-10 h-10 bg-primary-100 flex items-center justify-center rounded-lg">
						<Brain class="w-5 h-5 text-primary-700" />
					</div>
					<div class="flex items-center gap-2">
						<div class="w-2 h-2 bg-primary-500 rounded-full group-hover:scale-150 transition-transform" />
						<h3 class="font-bold text-gray-900 uppercase text-sm group-hover:text-primary-700 transition-colors">LLM Models</h3>
					</div>
				</div>
				<p class="text-xs text-gray-700">{llms.length} models</p>
			</a>

			<a
				href="/resources/devfinds"
				class="group border-2 border-gray-300 rounded-lg p-4 transition-all hover:border-primary-500 hover:shadow-md bg-white relative"
			>
				<div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
					<ExternalLink class="w-4 h-4 text-gray-400" />
				</div>
				<div class="flex items-center gap-3 mb-3">
					<div class="w-10 h-10 bg-primary-100 flex items-center justify-center rounded-lg">
						<Tag class="w-5 h-5 text-primary-700" />
					</div>
					<div class="flex items-center gap-2">
						<div class="w-2 h-2 bg-primary-500 rounded-full group-hover:scale-150 transition-transform" />
						<h3 class="font-bold text-gray-900 uppercase text-sm group-hover:text-primary-700 transition-colors">Dev Finds</h3>
					</div>
				</div>
				<p class="text-xs text-gray-700">{devfinds.length} active</p>
			</a>

			<a
				href="/resources/coding-bench"
				class="group border-2 border-gray-300 rounded-lg p-4 transition-all hover:border-primary-500 hover:shadow-md bg-white relative"
			>
				<div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">
					<ExternalLink class="w-4 h-4 text-gray-400" />
				</div>
				<div class="flex items-center gap-3 mb-3">
					<div class="w-10 h-10 bg-primary-100 flex items-center justify-center rounded-lg">
						<TrendingUp class="w-5 h-5 text-primary-700" />
					</div>
					<div class="flex items-center gap-2">
						<div class="w-2 h-2 bg-primary-500 rounded-full group-hover:scale-150 transition-transform" />
						<h3 class="font-bold text-gray-900 uppercase text-sm group-hover:text-primary-700 transition-colors">Coding Bench</h3>
					</div>
				</div>
				<p class="text-xs text-gray-700">LLM Rankings</p>
			</a>
		</div>
	</div>
</MainLayout>
